# Lab1

**ç¯å¢ƒï¼šUbuntu 16.04 32ä½**

## Hello OS

é€‰æ‹©ä»»æ„å¹³å°ï¼Œå‚è€ƒè®²ä¹‰æ­å»ºNASM+Bochså®éªŒå¹³å°ï¼Œåœ¨è¯¥å®éªŒå¹³å°ä¸Šæ±‡ç¼– boot.asm å¹¶â½¤Bochsè™šæ‹Ÿæœº è¿è¡Œï¼Œæ˜¾ç¤ºâ€œHello OS world!â€ã€‚æœ€ç»ˆè¿â¾ç»“æœå¦‚ä¸‹å›¾æ‰€ç¤ºï¼š

![image-20221107135713307](https://whale-picture.oss-cn-hangzhou.aliyuncs.com/img/image-20221107135713307.png)

```bash
# å®‰è£…bochså’Œguiåº“
$ sudo apt-get install bochs bochs-sdl
# åˆ›å»ºè½¯ç›˜fd
$ bximage
# å®‰è£…nasm
$ sudo apt-get install nasm
# ç”Ÿæˆboot.bin
$ nasm boot.asm -o boot.bin
# ä½¿ç”¨ddå‘½ä»¤å°†boot.binå†™å…¥è½¯ç›˜ä¸­
$ dd if=boot.bin of=a.img bs=512 count=1 conv=notrunc
# å¯åŠ¨bochs
$ bochs â€“f bochsrc
```

## æ•´æ•°åŠ æ³•ä¹˜æ³•

ä½¿â½¤æ±‡ç¼–è¯­â¾”NASMå®ç°â¼¤æ•´æ•°çš„åŠ æ³•å’Œä¹˜æ³•ã€‚ç»™å‡ºæ•´æ•° ğ‘¥, ğ‘¦ï¼Œè®¡ç®— ğ‘¥ + ğ‘¦ æˆ– ğ‘¥ Ã— ğ‘¦ çš„å€¼ã€‚

- è¾“â¼Šæ ¼å¼ï¼š`<input_x><operator><input_y>`ï¼Œä¸¤ä¸¤ä¹‹é—´æ²¡æœ‰ç©ºæ ¼ï¼Œ`<input_x>`å’Œ`<input_y>`åˆ†åˆ«ä»£è¡¨ ğ‘¥ å’Œ ğ‘¦ï¼Œå…¶ä¸­$-10^{20} <= ğ‘¥, ğ‘¦ <= 10^{20}$ï¼›`<operator>`åŒ…å«åŠ æ³•è¿ç®—ç¬¦ + å’Œä¹˜æ³•è¿ç®—ç¬¦ * ï¼Œè‹¥æ“ä½œç¬¦åæ˜¯è´Ÿæ•°ï¼Œè´Ÿå·ç›´æ¥è·Ÿåœ¨æ“ä½œç¬¦åï¼›è¾“â¼Š q ç»“æŸç¨‹åºï¼›
- è¾“å‡ºæ ¼å¼ï¼šè®¡ç®—çš„ç»“æœï¼›è¾“å‡ºç»“æœåç»§ç»­æ¥å—ä¸‹â¼€ä¸ªè¾“â¼Šï¼›
- â¾„å°‘å¤„ç†1ç§â¾®æ³•è¾“â¼Šæƒ…å†µï¼ˆå¦‚â½†æ•ˆæ“ä½œç¬¦ï¼Œç¼ºå°‘æ“ä½œæ•°ç­‰ï¼‰ï¼Œä¿è¯ç¨‹åºä¸å´©æºƒã€‚

```bash
$ nasm -f elf32 main.asm
$ gcc -o main main.o
$ ./main
```

