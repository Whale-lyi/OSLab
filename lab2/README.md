# Lab2

**环境：Ubuntu 20.04 64位**

## FAT12镜像查看工具

### 任务描述

用C/C++和nasm编写一个FAT12镜像查看⼯具，读取一个.img格式的文件并响应用户输入。

功能列表

1. 运行程序后，读取FAT12镜像文件，并提示用户输入指令
2. 用户输入ls 路径，输出根目录及其子目录的文件和目录列表。
   1. 首先输出路径名，加一个冒号:，换行，再输出文件和目录列表；
   2. 使用红色(\033[31m)颜色输出目录的文件名，不添加特殊颜色输出文件的文件名。
   3. 当用户不添加任何选项执行ls命令时，每个文件/目录项之前用**两个空格**隔开
   4. 当用户添加-l为参数时，
      1. 在路径名后，冒号前，另输出此目录下**直接子目录**和**直接子文件**的数目，两个数字之间用**空格**连接。此两个数字**不添加特殊颜色**
      2. 每个文件/目录占据**一行**，在输出文件/目录名后，**空一格**，之后：
         1. 若项为目录，输出此目录下**直接子目录**和**直接子文件**的数目，两个数字之间用**空格**连接。此两个数字**不添加特殊颜色**
            1. 不输出.和..目录的子目录、子文件数目
         2. 若项为文件，输出文件的大小
      3. 对于-l参数用户可以在命令**任何位置、设置任意多次-l参数**，但**只能设置一次文件名**
      4. 直接子目录不计算.和..
   5. 当用户给出不支持的命令参数时，**报错**
   6. 当用户不设定路径时，默认路径为**镜像文件根目录**
3. 用户输入cat 文件名，输出路径对应文件的内容，若路径不存在或不是一个普通文件则给出提示，提 示内容不严格限定，但必须体现出错误所在。
4. 用户输入exit， 退出程序。

### 使用说明

注：cat支持查看大于512字节的文件

```bash
# 安装32位库
$ sudo apt-get install gcc-multilib g++-multilib
$ make
$ ./main
$ make clean
```

